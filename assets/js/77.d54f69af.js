(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{449:function(t,a,s){"use strict";s.r(a);var e=s(46),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"servletcontext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#servletcontext"}},[t._v("#")]),t._v(" ServletContext")]),t._v(" "),s("p",[t._v("ServletContext是应用上下文对象(应用域对象).每个应用只有一个ServletContext对象")]),t._v(" "),s("h3",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),s("p",[t._v("在"),s("code",[t._v("<web-app>")]),t._v(" 标签中 通过 "),s("code",[t._v("<context-param>")]),t._v("标签进行配置")]),t._v(" "),s("p",[t._v("以键值对 "),s("code",[t._v("<param-name>")]),t._v("  和  "),s("code",[t._v("<param-value>")]),t._v(" 进行配置")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("web-app")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://xmlns.jcp.org/xml/ns/javaee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("context-param")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("key"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("value"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("context-param")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("web-app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),s("ul",[s("li",[t._v("getServletContext()  获取当前应用的ServletContext对象")]),t._v(" "),s("li",[t._v("getInitparameter(String name)   根据名称获取全局配置参数")]),t._v(" "),s("li",[t._v("getContextPath()   获取当前应用访问的虚拟目录")]),t._v(" "),s("li",[t._v("getRealPath(String path)  根据虚拟目录获取绝对路径")]),t._v(" "),s("li"),t._v(" "),s("li",[t._v("setAttribute(String name,Object value)  向应用域对象中存储数据")]),t._v(" "),s("li",[t._v("getAttribute(string name)   根据名称获取应用域中的数据")]),t._v(" "),s("li",[t._v("removeAttribute(string name)  根据名称移除应用域中的数据")])]),t._v(" "),s("h3",{attrs:{id:"注解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注解"}},[t._v("#")]),t._v(" 注解")]),t._v(" "),s("p",[t._v("Servlet 3.0 支持 注解和XML配置, 要求tomcat 9 和 javaee8")]),t._v(" "),s("p",[t._v("以前我们写一个类需要在xml中配置该类的路径、名称、链接")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("@WebServlet 注解配置Servlet")])]),t._v(" "),s("li",[s("p",[t._v("在该类上面使用")])]),t._v(" "),s("li",[s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebServlet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"helloServlet"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/hello-servlet"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("img",{attrs:{src:"https://gitee.com/Iekrwh/md-images/raw/master/images/image-20210813091845906.png",alt:"image-20210813091845906"}})])])]),t._v(" "),s("h3",{attrs:{id:"手动创建容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动创建容器"}},[t._v("#")]),t._v(" 手动创建容器")]),t._v(" "),s("ul",[s("li",[t._v("定义一个类 继承HttpServlet")]),t._v(" "),s("li",[t._v("重写 doget和dopost方法")]),t._v(" "),s("li",[t._v("定义一个类 实现 ServletContainerInitializer 接口")]),t._v(" "),s("li",[t._v("在src目录下创建一个 META-INF 包")]),t._v(" "),s("li",[t._v("在 META-INF 包  创建一个services 包")]),t._v(" "),s("li",[t._v("在 services 包 下创建一个 javax.servlet.ServletContainerInitializer 的文件 无后缀文件")]),t._v(" "),s("li",[t._v("文件中的内容为容器实现类的全类名")]),t._v(" "),s("li",[t._v("在容器实现类中 的 onStarup 方法 中完成注册 Servlet\n"),s("ul",[s("li",[t._v("创建要注册的servlet对象")]),t._v(" "),s("li",[t._v("res = serveletContext.addServlet(name,对象)")]),t._v(" "),s("li",[t._v("res.addMapping(访问路径)")])])]),t._v(" "),s("li",[t._v("重启项目")])])])}),[],!1,null,null,null);a.default=n.exports}}]);