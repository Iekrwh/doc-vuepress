(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{530:function(t,a,s){"use strict";s.r(a);var n=s(46),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"elment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elment"}},[t._v("#")]),t._v(" Elment")]),t._v(" "),s("h2",{attrs:{id:"表单验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表单验证"}},[t._v("#")]),t._v(" 表单验证")]),t._v(" "),s("h2",{attrs:{id:"给表单添加验证属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#给表单添加验证属性"}},[t._v("#")]),t._v(" 给表单添加验证属性")]),t._v(" "),s("p",[t._v(':rules 定义开始表单验证   如:  :rules="formRules"')]),t._v(" "),s("p",[t._v("需要绑定vue中的data数据验证规则,并且form表单必须要有:model绑定值")]),t._v(" "),s("p",[t._v("验证子元素绑定为子元素的prop名称")]),t._v(" "),s("ol",[s("li",[t._v("必须给 el-from 组件绑定 model 为表单数据对象")]),t._v(" "),s("li",[t._v("给校园验证的表单项 el-form-item 绑定 prop 属性 需要自定义名称")]),t._v(" "),s("li",[t._v("通过 el-from 组件的 rules 属性配置验证规则")])]),t._v(" "),s("h2",{attrs:{id:"验证规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证规则"}},[t._v("#")]),t._v(" 验证规则")]),t._v(" "),s("p",[t._v("验证规则配置常用的有以下几个")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("required   必须的 不能为空")])]),t._v(" "),s("li",[s("p",[t._v("pattern   正则表达式   ^以什么开头的   $以什么结尾的     \\d{n}多少位数字   如:/^1[3|5|7|8|9]\\d{9}$/  以1开头 第二位为2、5、7、8、9的 9位长度 以空为结尾的")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pattern"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^1[3|5|7|8|9]\\d{9}$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入正确的号码格式'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" trigger"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $以什么结束   如:以abc结束   abc$  或者 [abc]$")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("range  使用min和max定义范围  如: { min: 6, max: 6, message: '请输入正确的验证码格式', trigger: 'blur' }    这个比较特殊不用指定type类型")])]),t._v(" "),s("li",[s("p",[t._v("validator 自定义  如:validator:自定义函数名")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/Iekrwh/md-images/raw/master/images/image-20210624124818588.png",alt:"image-20210624124818588"}})]),t._v(" "),s("h2",{attrs:{id:"trigger验证时机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trigger验证时机"}},[t._v("#")]),t._v(" trigger验证时机")]),t._v(" "),s("ul",[s("li",[t._v("blur  当输入框失去焦点时验证")]),t._v(" "),s("li",[t._v("change  当输入框改变后验证")])]),t._v(" "),s("h2",{attrs:{id:"手动触发验证表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动触发验证表单"}},[t._v("#")]),t._v(" 手动触发验证表单")]),t._v(" "),s("ol",[s("li",[t._v("给el-form 设置 ref 起名字")]),t._v(" "),s("li",[t._v("通过 ref 获取 el-form 组织,调用组件的validate进行验证")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loginForm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回两个参数  valid 一个布尔值是否通过验证   err 验证的具体配置")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所以我们可以通过返回的布尔值来判断表单是否通过验证")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不通过返回")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//通过调用api接口验证用户信息")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"自定义定义规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义定义规则"}},[t._v("#")]),t._v(" 自定义定义规则")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("validator")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义验证规则  rule为表单的详细信息  value为布尔")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 验证通过: callback()   验证失败:callback(new Error('自定义错误消息提示'))")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(value)")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请同意用户协议'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          trigger"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);