(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{518:function(s,a,t){"use strict";t.r(a);var e=t(46),o=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"命令操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令操作"}},[s._v("#")]),s._v(" 命令操作")]),s._v(" "),t("ul",[t("li",[s._v("查看当前服务器中的所有topic")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --list\n")])])]),t("ul",[t("li",[t("p",[s._v("创建topic")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --create --replication-factor "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" --partitions "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" --topic first\n")])])])]),s._v(" "),t("li",[t("p",[s._v("--topic 定义topic名")])]),s._v(" "),t("li",[t("p",[s._v("--replication-factor 定义副本数")])]),s._v(" "),t("li",[t("p",[s._v("--partitions 定义分区数")])])])]),s._v(" "),t("li",[t("p",[s._v("删除topic")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --delete --topic first\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#需要server.properties中设置delete.topic.enable=true否则只是标记逻辑删除。")]),s._v("\n")])])]),t("ul",[t("li",[s._v("发送消息")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-console-producer.sh --broker-list hadoop102:9092 --topic first\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#消息会存储在/opt/module/kafka/logs/first-xxx 中")]),s._v("\n")])])]),t("ul",[t("li",[s._v("消费消息")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-console-consumer.sh --bootstrap-server hadoop102:9092 --topic first "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动后只有发送消息才会消费消息")]),s._v("\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#会把topic中以往所有的数据都读取出来 读取是以分区进行顺序读取的 读完一个分区再读另外一个分区")]),s._v("\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first --partition "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#partition 读取指定分区 如不指定所有的分区都会消费")]),s._v("\n")])])]),t("ul",[t("li",[s._v("查看某个Topic的详情")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --describe --topic first\n")])])]),t("ul",[t("li",[s._v("修改分区")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --alter --topic first --partitions "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=o.exports}}]);